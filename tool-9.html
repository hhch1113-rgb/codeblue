<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="실시간 환율 정보를 기반으로 다양한 국가의 통화를 빠르고 정확하게 상호 변환해주는 온라인 환율 계산기입니다. 해외 여행, 유학, 해외 투자 등 국제적인 금융 거래에 필수적인 정보를 제공합니다.">
    <meta name="google-adsense-account" content="ca-pub-2738395748022643">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2738395748022643"
     crossorigin="anonymous"></script>
    <title>환율 계산기 - 온라인 도구 모음</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .calculator-section {
            padding: 1.5rem;
            background-color: var(--card-bg-color);
            border: 1px solid var(--card-border-color);
            border-radius: 8px;
        }
        .calc-input-group {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin: 1rem 0;
            flex-wrap: wrap;
        }
        .calc-input-group input, .calc-input-group select {
            padding: 0.8rem;
            border-radius: 5px;
            border: 1px solid var(--card-border-color);
            background-color: var(--bg-color);
            color: var(--text-color);
            font-size: 1rem;
        }
        .calc-button {
             background-color: var(--button-bg-color);
             color: var(--button-text-color);
             padding: 0.8rem 1.2rem;
             border-radius: 5px;
             border: 1px solid var(--card-border-color);
             cursor: pointer;
        }
        .result-box {
            margin-top: 1.5rem;
            font-size: 1.2rem;
            font-weight: bold;
        }
        .data-source {
            font-size: 0.8rem;
            opacity: 0.7;
            text-align: right;
            margin-top: 1rem;
        }
    </style>
</head>
<body>
    <header>
        <h1><a href="/" class="home-link">온라인 도구 모음</a></h1>
        <button id="theme-toggle">다크 모드</button>
    </header>
    <main class="tool-page">
        <div class="tool-header">
            <h2>환율 계산기</h2>
            <a href="/" class="back-button">메인으로 돌아가기</a>
        </div>
        <div class="tool-content">
            <p>
                <strong>환율 계산기</strong>는 전 세계 다양한 통화 간의 교환 비율을 실시간 환율 정보에 기반하여 빠르고 정확하게 계산해주는 온라인 도구입니다. 해외 여행을 계획하거나, 유학 비용을 계산하거나, 해외 직구를 이용하거나, 국제적인 투자 활동을 하는 등 환율 변동이 중요한 모든 상황에서 필수적인 정보를 제공합니다. 복잡한 환율 계산을 손쉽게 처리하여 개인 및 기업의 재정 계획 수립과 의사 결정에 큰 도움을 줍니다.
                이 도구를 통해 언제든지 최신 환율 정보를 바탕으로 정확한 통화 변환을 경험할 수 있습니다.
            </p>
            <h3>사용 방법</h3>
            <ol>
                <li>'금액' 입력창에 변환하고자 하는 숫자를 입력합니다.</li>
                <li>'FROM' 드롭다운 메뉴에서 변환을 시작할 기준 통화를 선택합니다.</li>
                <li>'TO' 드롭다운 메뉴에서 변환하고자 하는 목표 통화를 선택합니다.</li>
                <li>'변환하기' 버튼을 클릭하면 실시간 환율이 적용된 변환 결과가 즉시 표시됩니다.</li>
            </ol>
            <h3>주요 기능 및 이점</h3>
            <ul>
                <li><strong>실시간 환율 적용:</strong> European Central Bank(ECB)와 같은 신뢰할 수 있는 기관의 최신 환율 정보를 사용하여 정확한 계산을 보장합니다.</li>
                <li><strong>다양한 통화 지원:</strong> 전 세계 주요 국가의 통화를 폭넓게 지원하여 사용자의 필요에 맞춰 유연하게 활용할 수 있습니다.</li>
                <li><strong>간편한 인터페이스:</strong> 직관적인 디자인과 쉬운 조작법으로 누구나 빠르게 환율을 계산할 수 있습니다.</li>
                <li><strong>해외 거래 및 재정 계획:</strong> 해외 송금, 해외 주식 투자, 해외 결제 시 예상 금액을 미리 파악하여 효율적인 재정 계획을 수립할 수 있습니다.</li>
                <li><strong>모바일 최적화:</strong> 언제 어디서든 스마트폰이나 태블릿을 통해 편리하게 환율을 확인할 수 있습니다.</li>
            </ul>
            <h3>예시</h3>
            <p>
                미국 달러(USD) 100달러가 오늘 기준으로 대한민국 원(KRW)으로 얼마인지 알고 싶다면, '금액'에 100을 입력하고 FROM을 USD로, TO를 KRW로 설정한 후 '변환하기' 버튼을 누르면 즉시 그 값을 알 수 있습니다.
            </p>
            <div class="calculator-section">
                <div class="calc-input-group">
                    <input type="number" id="amount" value="100">
                    <select id="from-currency"></select>
                    <span>→</span>
                    <select id="to-currency"></select>
                </div>
                <button id="convert-btn" class="calc-button">변환하기</button>
                <div id="result" class="result-box"></div>
                <p class="data-source">* 환율 정보는 European Central Bank 데이터를 따릅니다.</p>
            </div>
        </div>
    </main>
    <footer>
        <p>Made by CodeBlue</p>
        <p><a href="/about.html">사이트 정보</a> | <a href="/privacy.html">개인정보처리방침</a> | <a href="/terms.html">이용약관</a> | <a href="/contact.html">문의하기</a></p>
    </footer>
    <script src="main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            const fromSelect = document.getElementById('from-currency');
            const toSelect = document.getElementById('to-currency');
            const convertBtn = document.getElementById('convert-btn');
            const resultDiv = document.getElementById('result');
            const amountInput = document.getElementById('amount');

            const host = 'api.frankfurter.app';
            
            // Fetch currencies and populate dropdowns
            try {
                const response = await fetch(`https://${host}/currencies`);
                const currencies = await response.json();
                
                const commonCurrencies = ['USD', 'EUR', 'JPY', 'GBP', 'AUD', 'CAD', 'CHF', 'CNY', 'KRW'];
                
                for (const code in currencies) {
                    if (commonCurrencies.includes(code)) {
                        const option1 = document.createElement('option');
                        option1.value = code;
                        option1.textContent = `${code} (${currencies[code]})`;
                        fromSelect.appendChild(option1);

                        const option2 = document.createElement('option');
                        option2.value = code;
                        option2.textContent = `${code} (${currencies[code]})`;
                        toSelect.appendChild(option2);
                    }
                }
                
                fromSelect.value = 'USD';
                toSelect.value = 'KRW';

            } catch (error) {
                resultDiv.textContent = '통화 목록을 불러오는 데 실패했습니다.';
                console.error('Error fetching currencies:', error);
            }

            // Convert currency on button click
            convertBtn.addEventListener('click', async () => {
                const amount = parseFloat(amountInput.value);
                const from = fromSelect.value;
                const to = toSelect.value;

                if (isNaN(amount) || !from || !to) return;
                
                if (from === to) {
                    resultDiv.textContent = `${amount.toLocaleString()} ${to}`;
                    return;
                }

                resultDiv.textContent = '계산 중...';

                try {
                    const response = await fetch(`https://${host}/latest?amount=${amount}&from=${from}&to=${to}`);
                    const data = await response.json();

                    const convertedAmount = data.rates[to];
                    resultDiv.textContent = `${convertedAmount.toLocaleString()} ${to}`;

                } catch (error) {
                    resultDiv.textContent = '환율 변환에 실패했습니다.';
                    console.error('Error converting currency:', error);
                }
            });
        });
    </script>
</body>
</html>
